!function(){"use strict";angular.module("myMovies",["myMovies.modules-all"])}(),angular.module("myMovies.movies",[]),angular.module("myMovies.movie-list",[]),angular.module("myMovies.movie-detail",[]),angular.module("myMovies.templates",[]),angular.module("myMovies.modules-all",["myMovies.movies","myMovies.movie-list","myMovies.movie-detail","my-movie.templates"]),function(e){"use strict";e.directive("movieDetail",function(){return{restrict:"E",scope:{movie:"="},controller:["$scope",function(e){e.directors=[],e.writers=[],e.cast=[],e.init=function(){},e.getMovieYear=function(e){var t=new Date(e);return"("+t.getFullYear().toString()+")"},e.getBackgroundStyle=function(e){if(void 0===e)return{};var t={"background-image":"url(https://image.tmdb.org/t/p/w1400_and_h450_bestv2"+e+")"};return t},e.getImagePath=function(e){return void 0===e?"":"https://image.tmdb.org/t/p/w300_and_h450_bestv2"+e},e.$on("credits-updated",function(t,o){e.directors=e.movie.data.credits.crew.filter(function(e){return"Director"===e.job}),e.writers=e.movie.data.credits.crew.filter(function(e){return"Writer"===e.job||"Novel"===e.job||"Story"===e.job}),e.cast=e.movie.data.credits.cast.slice(0,5)})}],templateUrl:"app/movie-detail/movie-detail.html"}})}(angular.module("myMovies.movie-detail")),function(e){"use strict";e.directive("movieList",function(){return{restrict:"E",scope:{selectedMovie:"="},controller:["$scope","$rootScope","movieService",function(e,t,o){function i(){o.getUpcomingMovies().then(function(t){console.log(t),e.data=t.results}).catch(function(e){console.error(e)})}e.init=function(){i()},e.showDetails=function(i){if(e.selectedMovie&&e.selectedMovie){var n=e.data.filter(function(e){return e.hasOwnProperty("btnClass")&&"selected"===e.btnClass});n&&n.length>0&&(n[0].btnClass="")}var r=e.data.find(function(e){return e.id===i.id});r&&(r.btnClass="selected"),i.hasOwnProperty("data")?(e.selectedMovie=i,t.$broadcast("credits-updated",e.selectedMovie)):(e.selectedMovie=i,e.selectedMovie.loadingStatus=1,o.getMovie(i.id).then(function(n){console.log(n),e.selectedMovie.data=n,e.selectedMovie.loadingStatus=2,o.getCredits(i.id).then(function(o){console.log(o),e.selectedMovie.data.credits=o,t.$broadcast("credits-updated",e.selectedMovie)}).catch(function(e){console.error(e)})}).catch(function(e){console.error(e)}))},e.getImagePath=function(e){return void 0===e?"":"https://image.tmdb.org/t/p/w300_and_h450_bestv2"+e},e.init()}],templateUrl:"app/movie-list/movie-list.html"}})}(angular.module("myMovies.movie-list")),function(e){"use strict";e.service("movieService",["$http","$q","$rootScope",function(e,t,o){this.ApiKey="4cb8fcf888a36ad99d8b5f083536cf66",this.getUpcomingMovies=function(){var t=e.get("https://api.themoviedb.org/3/movie/upcoming?api_key="+this.ApiKey+"&language=en-US&page=1").then(function(e){return console.log(e),e.data}).catch(function(e){console.error(e)});return t},this.getMovie=function(t){var o=e.get("https://api.themoviedb.org/3/movie/"+t+"?api_key="+this.ApiKey+"&language=en-US").then(function(e){return console.log(e),e.data}).catch(function(e){console.error(e)});return o},this.getCredits=function(t){var o=e.get("https://api.themoviedb.org/3/movie/"+t+"/credits?api_key="+this.ApiKey).then(function(e){return console.log(e),e.data}).catch(function(e){console.error(e)});return o}}])}(angular.module("myMovies.movies")),function(e){"use strict";e.controller("homeController",["$scope",function(e){e.selectedMovie=void 0}])}(angular.module("myMovies.movies"));